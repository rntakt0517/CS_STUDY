# CPU의 성능 향상

## 5-1. 빠른 CPU를 위한 설계 기법

### 클럭(Clock)

- 정의: **컴퓨터 부품들이 일사불란하게 움직이게 하는 기준 신호**
- 측정 단위: 헤르츠(Hz) = 1초당 클럭 반복 횟수
- 현대 CPU 클럭:
  - 기본(Base): 2.5GHz(25억 회/초)
  - 최대(Max): 4.9GHz(49억 회/초)
- 무조건적인 클럭 상승은 발열 문제 발생

### 코어(Core)

- 정의: **CPU 내에서 명령어를 인출, 해석, 실행하는 핵심 부품**
- 코어 수에 따른 분류:
  - 싱글코어: 코어 1개
  - 듀얼코어: 코어 2개
  - 트리플코어: 코어 3개
  - 쿼드코어: 코어 4개
  - 헥사코어: 코어 6개

### 멀티코어(Multi-core)

- 정의: **두 개 이상의 코어를 포함하고 있는 CPU**
- 특징:
  - CPU 하나에 여러 개의 코어 탑재
  - 각 코어가 독립적으로 명령어 처리
- 성능:
  - 코어 수만큼 완벽한 성능 향상은 어려움
  - 작업의 균등한 분배가 중요
- 비유: 조별과제처럼 업무 분배 효율에 따라 성능 차이 발생

### 스레드(Thread)

1. 하드웨어적 스레드
   
   - 정의: **하나의 코어가 동시에 처리하는 명령어의 단위**
   - 논리 프로세서(Logical Processor)라고도 호칭
   - 예시: 8코어 16스레드 = 각 코어당 2개 명령어 동시 처리

2. 소프트웨어적 스레드
   
   - 정의: **하나의 프로그램에서 독립적으로 실행되는 단위**
   - 특징: 하나의 프로그램 내 여러 작업 동시 실행 가능
   - CPU와 무관하게 여러 개 생성 가능

### 멀티스레드(Multi-thread)

1. 하드웨어적 멀티스레드
   
   - 정의: **하나의 코어가 여러 개의 명령어를 동시에 처리하는 기술**
   - 예시: 2코어 4스레드는 각 코어가 2개씩 명령어 처리
   - Intel의 하이퍼스레딩(Hyper-threading)이 대표적

2. 소프트웨어적 멀티스레드
   
   - 정의: **하나의 프로그램에서 여러 개의 독립적 실행 흐름 생성**
   - 예시: 워드프로세서의 동시 작업
     - 화면 표시
     - 맞춤법 검사
     - 자동 저장
   - 하드웨어 스레드 수와 무관하게 생성 가능

---

## 5-2. 명령어 병렬 처리 기법

### 파이프라인(Pipeline)

- 정의: **여러 명령어를 겹쳐서 동시에 실행하는 기법**
- 명령어 처리 4단계:
  1. 인출(Fetch): 메모리에서 명령어 가져오기
  2. 해석(Decode): 명령어 해석
  3. 실행(Execute): 명령어 실행
  4. 저장(Store): 결과 저장

### 파이프라인 위험(Pipeline Hazard)

1. 데이터 위험(Data Hazard)
   
   - 정의: **명령어 간 데이터 의존성으로 인한 병렬처리 불가 상황**
   - 이전 명령어의 결과가 필요한 경우 발생

2. 제어 위험(Control Hazard)
   
   - 정의: **프로그램 카운터의 갑작스러운 변화로 인한 문제**
   - 분기 예측(Branch Prediction)으로 해결 시도

3. 구조적 위험(Structural Hazard)
   
   - 정의: **여러 명령어가 동시에 같은 CPU 부품 사용 시 발생**
   - ALU나 레지스터 등 하드웨어 자원 충돌

### 슈퍼스칼라(Superscalar)

- 정의: **여러 개의 파이프라인을 동시에 운영하는 구조**
- 특징:
  - 이론상 파이프라인 수에 비례한 성능 향상
  - 실제로는 파이프라인 위험 증가로 제한적 성능 향상

### 비순차적 명령어 처리

- 정의: **의존성 없는 명령어들의 실행 순서를 변경하는 기법**
- 특징:
  - Out-of-Order Execution(OoOE)이라고도 함
  - 프로그램 결과에 영향 없는 범위 내 순서 변경
  - 파이프라인 중단 방지 목적

---

## 5-3. 명령어 집합 구조(ISA)

### 명령어 집합 구조(ISA, Instruction Set Architecture)

- 정의: **CPU가 이해할 수 있는 명령어들의 모음**
- 특징:
  - CPU 제조사별로 서로 다른 ISA 사용
  - 하드웨어와 소프트웨어 간의 인터페이스 역할
  - 같은 소스코드도 ISA에 따라 다른 기계어 생성
- 영향:
  - CPU의 구조 결정
  - 레지스터 종류와 개수 결정
  - 명령어 실행 방식 결정
  - 컴퓨터 전체 구조에 영향
- 호환성:
  - 서로 다른 ISA 간 직접적인 실행 파일 호환 불가
  - 예: Intel CPU용 프로그램을 ARM CPU에서 직접 실행 불가

### CISC(Complex Instruction Set Computer)

- 정의: **복잡하고 다양한 명령어 집합을 활용하는 구조**
- 특징:
  - 가변 길이 명령어 사용
  - 다양한 주소지정 방식 지원
  - 복잡한 명령어로 적은 수의 명령어 사용
  - 파이프라이닝에 불리
  - 전체 명령어 중 20%만 자주 사용
- 대표: Intel, AMD의 x86, x86-64 아키텍처

### RISC(Reduced Instruction Set Computer)

- 정의: **단순하고 적은 종류의 명령어를 사용하는 구조**
- 특징:
  - 고정 길이 명령어 사용
  - 1클럭 내 실행 가능한 규격화된 명령어
  - 메모리 접근 최소화(Load/Store 명령어만 사용)
  - 많은 범용 레지스터 사용
  - 파이프라이닝에 유리
  - 같은 작업에 더 많은 수의 명령어 필요
- 대표: ARM 아키텍처

### 현대 CPU의 실제 구현

- CISC 기반 CPU도 내부적으로는 RISC처럼 동작
- 복잡한 명령어를 마이크로 명령어로 분해
- 실제 실행은 1클럭 단위로 잘게 쪼개서 처리

---
